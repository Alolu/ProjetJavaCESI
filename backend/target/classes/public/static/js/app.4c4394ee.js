(function(t){function e(e){for(var s,n,i=e[0],c=e[1],l=e[2],u=0,p=[];u<i.length;u++)n=i[u],r[n]&&p.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},o=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},4923:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("router-view")],1)],1)},o=[],n={name:"App",data(){return{}}},i=n,c=a("2877"),l=a("6544"),d=a.n(l),u=a("7496"),p=a("a75b"),m=Object(c["a"])(i,r,o,!1,null,null,null),v=m.exports;d()(m,{VApp:u["a"],VContent:p["a"]});var h=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{staticClass:"no-prin",attrs:{color:"white"}},[a("v-toolbar-title",[t._v("Clay Dashboard")]),a("div",{staticClass:"flex-grow-1"})],1),a("v-container",{staticClass:"no-prin"},[a("v-content",[a("section",[a("v-card",[a("v-card-title",[t._v("\n            Données des lots\n            "),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Periode","prepend-icon":"event",readonly:""},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}},s))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{type:"month"},on:{input:function(e){t.menu2=!1}},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1),a("v-btn",{attrs:{href:"data:text/json;charset=utf-8,"+t.exportData(),download:"data-lots-"+t.selectedDate+".json",text:"",icon:""}},[a("v-icon",[t._v("mdi-download")])],1)],1),a("v-expansion-panels",{attrs:{multiple:"",accordion:"",value:[0]}},[a("v-expansion-panel",[a("v-expansion-panel-header",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"title"},[t._v("Tableau récapitulatif")]),a("v-expansion-panel-content",[a("v-row",[a("v-col",t._l(t.filtersLot,function(e,s){return a("v-chip",{key:s,attrs:{close:""},on:{"click:close":function(e){return t.del(s)}}},[t._v(t._s(s+":"+e))])}),1)],1),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-file-input",{attrs:{accept:"application/JSON",label:"Importer des lots..."},on:{change:t.importData}})],1),a("v-spacer"),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Rechercher...","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{search:t.search,headers:t.headers,items:t.lotFilt,"items-per-page":5},scopedSlots:t._u([{key:"item.result",fn:function(e){var a=e.item;return[t._v(t._s(a.result))]}},{key:"item.quality",fn:function(e){var s=e.item;return[a("v-chip",{class:{red:"Low"==s.quality,"orange lighten-2":"Medium"==s.quality,green:"High"==s.quality},attrs:{"text-color":"white"},domProps:{textContent:t._s(s.quality)}})]}},{key:"item.performance",fn:function(e){var s=e.item;return[a("v-chip",{class:{red:"Low"==s.performance,"orange lighten-2":"Medium"==s.performance,green:"High"==s.performance},attrs:{"text-color":"white"},domProps:{textContent:t._s(s.performance)}})]}},{key:"item.color",fn:function(e){var s=e.item;return[a("v-chip",{class:s.color.toLowerCase()+" darken-1",attrs:{"text-color":"white"},domProps:{textContent:t._s(s.color)}})]}}])})],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"title"},[t._v("Graphique récapitulatif")]),a("v-expansion-panel-content",[a("v-btn",{attrs:{text:"",icon:""},on:{click:t.print}},[a("v-icon",[t._v("print")])],1),a("v-tabs",{attrs:{grow:""}},[a("v-tab",[t._v("Qualité/Component")]),a("v-tab",[t._v("Qualité/Lot")]),a("v-tab",[t._v("Performance/Layout")]),a("v-tab-item",[a("GChart",{attrs:{type:"BarChart",data:t.getCompChartData(),options:t.chartOptions}})],1),a("v-tab-item",[a("GChart",{attrs:{type:"PieChart",data:t.getQualityPercentage()}})],1),a("v-tab-item",[a("GChart",{attrs:{type:"AreaChart",data:t.getPerfToLayout(),options:t.chartOptions}})],1)],1)],1)],1)],1)],1)],1)])],1),a("v-container",{staticClass:"prin"},[a("v-card",[a("v-card-title",[t._v("Comparatif Qualité/Component : "+t._s(t.selectedDate))]),a("v-card-text",[a("GChart",{attrs:{type:"BarChart",data:t.getCompChartData(),options:t.chartOptions}})],1),a("v-card-title",[t._v("Comparatif Qualité/Lots : "+t._s(t.selectedDate))]),a("v-card-text",[a("GChart",{attrs:{type:"PieChart",data:t.getQualityPercentage()}})],1),a("v-card-title",[t._v("Comparatif Performance/Layout : "+t._s(t.selectedDate))]),a("v-card-text",[a("GChart",{attrs:{type:"AreaChart",data:t.getPerfToLayout(),options:t.chartOptions}})],1)],1)],1)],1)},f=[],b=a("bc3a"),w=a.n(b),x=a("a925");s["default"].use(x["a"]);const k={en:{application:"Application",login:"Sign in",register:"Sign up",email:"Email",enterYourEmail:"Enter your email address",password:"Password",confirmPassword:"Confirm password",title:"Title",projectName:"Project name",companyName:"Company name",getStarted:"Get started",companyInfo:"Company info",contacts:"Contact us",remember:"Remember me?",forgotPassword:"Forgot password?",dontHaveAccount:"Dont' have an account?",haveAccount:"Already have an account?",emailRequired:"Email is required.",emailNotValid:"Email is not valid.",passwordRequired:"Password is required.",passwordFormat:"Password should contains min 8 characters including a number and a uppercase letter.",passwordMatch:"The password you entered don't match.",connectionLost:"The connection to the server has been lost.",sendPasswordUpdateEmail:"Send password update email",updatePassword:"Update password",returnToLogin:"Return to login",close:"Close",home:"Home",contact:"Contacts",logout:"Logout",language:"Language",success:"Success",error:"Error"},ru:{application:"Приложение",login:"Войти",register:"Создать аккаунт",email:"Почта",enterYourEmail:"Введите ваш адрес почты",password:"Пароль",confirmPassword:"Подтвердите пароль",title:"Заголовок",projectName:"Имя проекта",companyName:"Имя компании",getStarted:"Начать",companyInfo:"Информация",contacts:"Свяжитесь с нами",remember:"Запомнить меня?",forgotPassword:"Забыли пароль?",dontHaveAccount:"Еще нет аккаунта?",haveAccount:"Уже есть аккаунт?",emailRequired:"Введите свою почту.",emailNotValid:"Введите существующий адрес почты.",passwordRequired:"Введите пароль.",passwordFormat:"Пароль должен содержать минимум 8 символов включая цифру и заглавную букву.",passwordMatch:"Пароли не совпадают.",connectionLost:"Соединение с сервером разорвано.",sendPasswordUpdateEmail:"Отправить письмо для обновления пароля",updatePassword:"Обновить пароль",returnToLogin:"Вернуться на страницу входа",close:"Закрыть",home:"Домой",contact:"Контакты",logout:"Выйти",language:"Язык",success:"Успешно",error:"Ошибка"}},_=new x["a"]({locale:localStorage.getItem("locale")||navigator.language.split("-")[0],fallbackLocale:"en",messages:k});var y=_;const $=w.a.create({baseURL:"http://localhost:8080/api",params:{locale:y.locale},timeout:1e4});var C={register(t,e){return $.get("/registration/"+t+"/"+e)},registrationConfirm(t){return $.post("/registrationConfirm/"+t)},login(t,e,a){return $.get("/login/"+t+"/"+e+"/"+a)},sendPasswordUpdateEmail(t){return $.get("/sendPasswordUpdateEmail/"+t)},updatePassword(t,e){return $.put("/updatePassword/"+t+"/"+e)},checkTokenExist(t){return $.get("/checkTokenExist/"+t)},deleteTokenByDeviceId(t){$.post("/deleteTokenByDeviceId/"+t)},getLots(){return $.get("/get/lots")},sendLot(t){return $.post("/post/lot",t,{"Content-type":"multipart/form-data"})}},P={data(){return{selectedDate:"2014-01",lots:[],lotFilt:[],filtersLot:{},menu2:"",search:"",headers:[{text:"#",align:"left",sortable:!1,value:"id"},{text:"Color",value:"color"},{text:"Timecode (ms)",value:"timecode"},{text:"Layout",value:"layout"},{text:"Pressure",value:"pressure"},{text:"Component",value:"component"},{text:"Quality",value:"quality"},{text:"Performance",value:"performance"},{text:"Result",value:"result"},{text:"Offset",value:"offset"},{text:"Date",value:"date"}],chartData:[["Machine","Quality","Performance"],["Yotis1",1e3,400],["Yotis2",1e3,400]],chartOptions:{chart:{title:"Performance des machines",subtitle:"Comparateur Qualite-Performance/Machine",theme:"maximized"}}}},methods:{importData(t){fd=new FormData,fd.append("lotData",t),C.sendLot(fd)},del(t){console.log(t),this.$delete(this.filtersLot,t),this.lotFilt=this.monthBatch.filter(t=>{return Object.keys(this.filtersLot).every(e=>{return this.filtersLot[e].includes(t[e])})})},exportData(){let t={month:this.selectedDate,lots:[]};return this.monthBatch.forEach(e=>{t.lots.push({lot:e.id,quality:e.quality,performance:e.performance,color:e.color,component:e.component})}),encodeURIComponent(JSON.stringify(t))},getCompChartData(){let t=[],e=[["Quality","High","Medium","Low"]],a=this.monthBatch;return a.forEach(e=>{t.includes(e.component)||t.push(e.component)}),t.sort(),t.forEach(t=>{let s=[t],r={High:0,Medium:0,Low:0},o=a.filter(e=>e.component==t);o.forEach(t=>{r[t.quality]++}),e.push(s.concat(Object.values(r)))}),e},getQualityPercentage(){let t={High:0,Medium:0,Low:0};return this.monthBatch.forEach(e=>t[e.quality]++),[["Quality","Percentage"],["High",t.High],["Medium",t.Medium],["Low",t.Low]]},getPerfToLayout(){let t=[["Layout","High","Medium","Low"]],e={};return this.monthBatch.forEach(t=>{e[t.layout]||(e[t.layout]={High:0,Medium:0,Low:0}),e[t.layout][t.performance]++}),Object.keys(e).forEach(a=>{t.push([a].concat(Object.values(e[a])))}),t},print(){window.print()}},async mounted(){document.title="Récapitulatif des lots";var t=await C.getLots();this.lots=t.data,this.lotFilt=this.lots},computed:{monthBatch(){let t=this.lots.filter(t=>t.date.includes(this.selectedDate));return t}},watch:{search:function(t){let e=[];this.headers.forEach(t=>e.push(t.value));let a=t.split(":");2==a.length&&e.includes(a[0])&&" "==a[1].substr(-1)&&(this.filtersLot[a[0]]=a[1].slice(0,-1),this.search=""),this.lotFilt=this.monthBatch.filter(t=>{return Object.keys(this.filtersLot).every(e=>{return this.filtersLot[e].includes(t[e])})})}}},V=P,L=(a("b88f"),a("8336")),E=a("b0af"),S=a("99d9"),q=a("cc20"),T=a("62ad"),D=a("a523"),j=a("8fea"),O=a("2e4b"),R=a("cd55"),A=a("49e2"),I=a("c865"),F=a("0393"),M=a("23a7"),B=a("132d"),N=a("e449"),H=a("0fd9"),U=a("2fa4"),Q=a("71a3"),G=a("c671"),z=a("fe57"),Y=a("8654"),J=a("71d9"),Z=a("2a7f"),K=a("269a"),W=a.n(K),X=a("5607"),tt=Object(c["a"])(V,g,f,!1,null,"4d9a3e29",null),et=tt.exports;d()(tt,{VBtn:L["a"],VCard:E["a"],VCardText:S["b"],VCardTitle:S["c"],VChip:q["a"],VCol:T["a"],VContainer:D["a"],VContent:p["a"],VDataTable:j["a"],VDatePicker:O["a"],VExpansionPanel:R["a"],VExpansionPanelContent:A["a"],VExpansionPanelHeader:I["a"],VExpansionPanels:F["a"],VFileInput:M["a"],VIcon:B["a"],VMenu:N["a"],VRow:H["a"],VSpacer:U["a"],VTab:Q["a"],VTabItem:G["a"],VTabs:z["a"],VTextField:Y["a"],VToolbar:J["a"],VToolbarTitle:Z["a"]}),W()(tt,{Ripple:X["a"]});var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fill-height"},[a("v-progress-linear",{attrs:{active:t.inLoading,indeterminate:t.inLoading,absolute:"",color:"deep-purple accent-4"}}),a("v-snackbar",{attrs:{color:"error",top:"",timeout:15e3},model:{value:t.snackbarError,callback:function(e){t.snackbarError=e},expression:"snackbarError"}},[a("span",[t._v(t._s(t.message))]),a("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbarError=!1}}},[t._v(t._s(t.$t("close")))])],1),a("v-snackbar",{attrs:{color:"success",top:"",timeout:15e3},model:{value:t.snackbarSuccess,callback:function(e){t.snackbarSuccess=e},expression:"snackbarSuccess"}},[a("span",[t._v(t._s(t.message))]),a("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbarSuccess=!1}}},[t._v(t._s(t.$t("close")))])],1),a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-card-text",[a("v-form",[a("v-text-field",{ref:"email",attrs:{label:t.$t("email"),name:"email",type:"text",outlined:"","error-messages":t.emailErrors,required:"",disabled:t.isSuccess},on:{input:function(e){return t.$v.email.$touch()},blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{ref:"password",attrs:{label:t.$t("password"),name:"password",type:"password",outlined:"",counter:"","error-messages":t.passwordErrors,required:"","append-icon":"visibility_off",disabled:t.isSuccess},on:{input:function(e){return t.$v.password.$touch()},blur:function(e){return t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{staticClass:"v-btn--block",staticStyle:{"min-height":"50px"},attrs:{color:"success",disabled:t.inProgress,inLoading:t.inLoading},on:{click:function(e){return t.register()}}},[t._v("\n                                "+t._s(t.$t("register"))+"\n                            ")])],1)],1)],1),a("v-col",{staticClass:"text-center"},[a("div",{staticClass:"my-8 subtitle-1"},[t._m(0)])])],1)],1)],1)],1)},st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(t._s(t.$t("haveAccount"))+" "),a("router-link",{attrs:{to:"/login"}},[t._v(t._s(t.$t("login")))])],1)}],rt=a("b5ae");const ot=rt["helpers"].regex("email",/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/),nt=rt["helpers"].regex("password",/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/);var it={name:"Registration",data(){return{email:"",password:"",message:!1,snackbarError:!1,snackbarSuccess:!1,inProgress:!1,inLoading:!1,isSuccess:!1}},validations:{email:{required:rt["required"],emailRegex:ot},password:{required:rt["required"],passwordRegex:nt}},computed:{emailErrors(){const t=[];return this.$v.email.$dirty?(!this.$v.email.required&&t.push(y.t("emailRequired")),!this.$v.email.emailRegex&&t.push(y.t("emailNotValid")),t):t},passwordErrors(){const t=[];return this.$v.password.$dirty?(!this.$v.password.required&&t.push(y.t("passwordRequired")),!this.$v.password.passwordRegex&&t.push(y.t("passwordFormat")),t):t}},methods:{register(){this.inProgress=!0,this.inLoading=!0,this.$v.$invalid?(this.inProgress=!1,this.inLoading=!1):C.register(this.email,this.password).then(t=>{t.data.success?(this.isSuccess=!0,this.message=t.data.message,this.inLoading=!1,this.snackbarSuccess=!0):(this.inProgress=!1,this.inLoading=!1,this.message=t.data.message,this.snackbarError=!0)}).catch(t=>{console.log(t),this.message=y.t("connectionLost"),this.snackbarError=!0,this.inProgress=!1,this.inLoading=!1})}},created(){void 0!==this.$root.$data.message&&(this.message=this.$root.$data.message,this.snackbarError=!0)}},ct=it,lt=a("0e8f"),dt=a("4bd4"),ut=a("a722"),pt=a("8e36"),mt=a("2db4"),vt=Object(c["a"])(ct,at,st,!1,null,"087b70ac",null),ht=vt.exports;d()(vt,{VBtn:L["a"],VCard:E["a"],VCardText:S["b"],VCol:T["a"],VContainer:D["a"],VFlex:lt["a"],VForm:dt["a"],VLayout:ut["a"],VProgressLinear:pt["a"],VSnackbar:mt["a"],VTextField:Y["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fill-height"},[a("v-progress-linear",{attrs:{active:t.inLoading,indeterminate:t.inLoading,absolute:"",color:"deep-purple accent-4"}}),a("v-snackbar",{attrs:{color:"error",top:"",timeout:15e3},model:{value:t.snackbarError,callback:function(e){t.snackbarError=e},expression:"snackbarError"}},[a("span",[t._v(t._s(t.message))]),a("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbarError=!1}}},[t._v(t._s(t.$t("close")))])],1),a("v-snackbar",{attrs:{color:"success",top:"",timeout:15e3},model:{value:t.snackbarSuccess,callback:function(e){t.snackbarSuccess=e},expression:"snackbarSuccess"}},[a("span",[t._v(t._s(t.message))]),a("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbarSuccess=!1}}},[t._v(t._s(t.$t("close")))])],1),a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-card-text",[a("v-form",[a("v-text-field",{ref:"email",attrs:{label:t.$t("email"),name:"email",type:"text",outlined:"","error-messages":t.emailErrors,required:""},on:{input:function(e){return t.$v.email.$touch()},blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{ref:"password",attrs:{label:t.$t("password"),name:"password",type:"password",outlined:"","error-messages":t.passwordErrors,required:"","append-icon":"visibility_off"},on:{input:function(e){return t.$v.password.$touch()},blur:function(e){return t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-layout",{staticClass:"ml-0 mr-0",attrs:{row:"",wrap:""}},[a("v-checkbox",{staticClass:"mt-0",attrs:{label:t.$t("remember")},model:{value:t.remember,callback:function(e){t.remember=e},expression:"remember"}}),a("v-spacer"),a("router-link",{staticClass:"subtitle-1",attrs:{to:"/forgot-password"}},[t._v(t._s(t.$t("forgotPassword"))+"\n                                ")])],1),a("v-btn",{staticClass:"v-btn--block",staticStyle:{"min-height":"50px"},attrs:{color:"success",disabled:t.inProgress,inLoading:t.inLoading},on:{click:function(e){return t.login()}}},[t._v("\n                                "+t._s(t.$t("login"))+"\n                            ")])],1)],1)],1),a("v-card-text",{staticClass:"text-center"},[a("div",{staticClass:"my-8 subtitle-1"},[t._m(0)])])],1)],1)],1)],1)},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(t._s(t.$t("dontHaveAccount"))+" "),a("router-link",{attrs:{to:"/registration"}},[t._v(t._s(t.$t("register")))])],1)}],bt=a("00e7"),wt=a.n(bt),xt=a("cf18"),kt=a.n(xt);s["default"].use(wt.a);var _t={name:"Login",data(){return{email:"",password:"",remember:!1,message:"",snackbarSuccess:!1,snackbarError:!1,inProgress:!1,inLoading:!1}},validations:{email:{required:rt["required"]},password:{required:rt["required"]}},computed:{emailErrors(){const t=[];return this.$v.email.$dirty?(!this.$v.email.required&&t.push(y.t("emailRequired")),t):t},passwordErrors(){const t=[];return this.$v.password.$dirty?(!this.$v.password.required&&t.push(y.t("passwordRequired")),t):t}},methods:{login(){if(this.inProgress=!0,this.inLoading=!0,this.$v.$invalid)this.inProgress=!1,this.inLoading=!1;else{let t=s["default"].cookie.get("deviceId");C.login(this.email,this.password,t).then(t=>{if(t.data.success){let e=kt.a.getInstance();e.start(),e.set("token",t.data.accessToken.token),s["default"].cookie.set("deviceId",t.data.accessToken.deviceId,730),this.remember&&s["default"].cookie.set("token",t.data.accessToken.token,14),this.$router.push("/protected").catch(t=>{console.log(t)})}else this.inProgress=!1,this.inLoading=!1,this.message=t.data.message,this.snackbarError=!0}).catch(t=>{console.log(t),this.message=y.t("connectionLost"),this.snackbarError=!0,this.inProgress=!1,this.inLoading=!1})}}},created(){void 0!==this.$root.$data.message&&(this.message=this.$root.$data.message,this.snackbarSuccess=!0)}},yt=_t,$t=a("ac7c"),Ct=Object(c["a"])(yt,gt,ft,!1,null,null,null),Pt=Ct.exports;d()(Ct,{VBtn:L["a"],VCard:E["a"],VCardText:S["b"],VCheckbox:$t["a"],VCol:T["a"],VContainer:D["a"],VForm:dt["a"],VLayout:ut["a"],VProgressLinear:pt["a"],VRow:H["a"],VSnackbar:mt["a"],VSpacer:U["a"],VTextField:Y["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t._l(t.items,function(e){return[e.heading?a("v-row",{key:e.heading,attrs:{align:"center"}},[a("v-col",{attrs:{cols:"6"}},[e.heading?a("v-subheader",[t._v("\n                            "+t._s(e.heading)+"\n                        ")]):t._e()],1),a("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[a("a",{staticClass:"body-2 black--text",attrs:{href:"#"}},[t._v("EDIT")])])],1):e.children?a("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v("\n                                    "+t._s(e.text)+"\n                                ")])],1)],1)]},proxy:!0}],null,!0),model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"item.model"}},t._l(e.children,function(e,s){return a("v-list-item",{key:s,on:{click:function(t){}}},[e.icon?a("v-list-item-action",[a("v-icon",[t._v(t._s(e.icon))])],1):t._e(),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                                "+t._s(e.text)+"\n                            ")])],1)],1)}),1):a("v-list-item",{key:e.text,on:{click:function(t){}}},[a("v-list-item-action",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("\n                            "+t._s(e.text)+"\n                        ")])],1)],1)]})],2)],1),a("v-app-bar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,app:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[t._v("Contacts")])],1),a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"search",label:"Search"}}),a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-apps")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-bell")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.logout()}}},[a("v-icon",[t._v("logout")])],1)],1),a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{href:t.source,icon:"",large:"",target:"_blank"}},s),[a("v-icon",{attrs:{large:""}},[t._v("mdi-code-tags")])],1)]}}])},[a("span",[t._v("Source")])]),a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{icon:"",large:"",href:"https://codepen.io/johnjleider/pen/MNYLdL",target:"_blank"}},s),[a("v-icon",{attrs:{large:""}},[t._v("mdi-codepen")])],1)]}}])},[a("span",[t._v("Codepen")])])],1)],1)],1),a("v-btn",{attrs:{bottom:"",color:"pink",dark:"",fab:"",fixed:"",right:""},on:{click:function(e){t.dialog=!t.dialog}}},[a("v-icon",[t._v("mdi-plus")])],1),a("v-dialog",{attrs:{width:"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"grey darken-2"},[t._v("\n                Create contact\n            ")]),a("v-container",[a("v-row",[a("v-col",{staticClass:"align-center justify-space-between",attrs:{cols:"12"}},[a("v-row",{attrs:{align:"center"}},[a("v-avatar",{staticClass:"mr-4",attrs:{size:"40px"}},[a("img",{attrs:{src:"//ssl.gstatic.com/s2/oz/images/sge/grey_silhouette.png",alt:""}})]),a("v-text-field",{attrs:{placeholder:"Name"}})],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"business",placeholder:"Company"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{placeholder:"Job title"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"mail",placeholder:"Email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"tel","prepend-icon":"phone",placeholder:"(000) 000 - 0000"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"notes",placeholder:"Notes"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"primary"}},[t._v("More")]),a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Save")])],1)],1)],1)],1)},Lt=[],Et={props:{source:String},data:()=>({dialog:!1,drawer:null,items:[{icon:"contacts",text:"Contacts"},{icon:"history",text:"Frequently contacted"},{icon:"content_copy",text:"Duplicates"},{icon:"keyboard_arrow_up","icon-alt":"keyboard_arrow_down",text:"Labels",model:!0,children:[{icon:"add",text:"Create label"}]},{icon:"keyboard_arrow_up","icon-alt":"keyboard_arrow_down",text:"More",model:!1,children:[{text:"Import"},{text:"Export"},{text:"Print"},{text:"Undo changes"},{text:"Other contacts"}]},{icon:"settings",text:"Settings"},{icon:"chat_bubble",text:"Send feedback"},{icon:"help",text:"Help"},{icon:"phonelink",text:"App downloads"}]}),methods:{logout(){let t=kt.a.getInstance(),e=s["default"].cookie.get("deviceId");t.destroy(),s["default"].cookie.delete("token"),null!=e&&C.deleteTokenByDeviceId(e),this.$router.push("/").catch(t=>{console.log(t)})}}},St=Et,qt=a("40dc"),Tt=a("5bc1"),Dt=a("8212"),jt=a("169a"),Ot=a("8860"),Rt=a("56b0"),At=a("da13"),It=a("1800"),Ft=a("5d23"),Mt=a("f774"),Bt=a("e0c7"),Nt=a("3a2f"),Ht=Object(c["a"])(St,Vt,Lt,!1,null,null,null),Ut=Ht.exports;d()(Ht,{VApp:u["a"],VAppBar:qt["a"],VAppBarNavIcon:Tt["a"],VAvatar:Dt["a"],VBtn:L["a"],VCard:E["a"],VCardActions:S["a"],VCardTitle:S["c"],VCol:T["a"],VContainer:D["a"],VContent:p["a"],VDialog:jt["a"],VIcon:B["a"],VList:Ot["a"],VListGroup:Rt["a"],VListItem:At["a"],VListItemAction:It["a"],VListItemContent:Ft["a"],VListItemTitle:Ft["b"],VNavigationDrawer:Mt["a"],VRow:H["a"],VSubheader:Bt["a"],VTextField:Y["a"],VToolbarTitle:Z["a"],VTooltip:Nt["a"]});var Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fill-height"},[a("v-progress-linear",{attrs:{active:t.inLoading,indeterminate:t.inLoading,absolute:"",color:"deep-purple accent-4"}}),a("v-snackbar",{attrs:{color:"error",top:"",timeout:15e3},model:{value:t.snackbarError,callback:function(e){t.snackbarError=e},expression:"snackbarError"}},[a("span",[t._v(t._s(t.message))]),a("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbarError=!1}}},[t._v(t._s(t.$t("close")))])],1),a("v-snackbar",{attrs:{color:"success",top:"",timeout:15e3},model:{value:t.snackbarSuccess,callback:function(e){t.snackbarSuccess=e},expression:"snackbarSuccess"}},[a("span",[t._v(t._s(t.message))]),a("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbarSuccess=!1}}},[t._v(t._s(t.$t("close")))])],1),a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-card-text",[a("v-form",[a("v-text-field",{ref:"email",attrs:{label:t.$t("enterYourEmail"),name:"email",type:"text",outlined:"","error-messages":t.emailErrors,required:"",disabled:t.isSuccess},on:{input:function(e){return t.$v.email.$touch()},blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-btn",{staticClass:"v-btn--block",staticStyle:{"min-height":"50px"},attrs:{color:"success",disabled:t.inProgress,inLoading:t.inLoading},on:{click:function(e){return t.sendPasswordUpdateEmail()}}},[t._v("\n                                "+t._s(t.$t("sendPasswordUpdateEmail"))+"\n                            ")])],1)],1)],1)],1)],1)],1)],1)},Gt=[],zt={name:"ForgotPassword",data(){return{email:"",message:"",snackbarError:!1,snackbarSuccess:!1,inProgress:!1,inLoading:!1,isSuccess:!1}},validations:{email:{required:rt["required"]}},computed:{emailErrors(){const t=[];return this.$v.email.$dirty?(!this.$v.email.required&&t.push(y.t("emailRequired")),t):t}},methods:{sendPasswordUpdateEmail(){this.inProgress=!0,this.inLoading=!0,this.$v.$invalid?(this.inProgress=!1,this.inLoading=!1):C.sendPasswordUpdateEmail(this.email).then(t=>{t.data.success?(this.isSuccess=!0,this.message=t.data.message,this.snackbarSuccess=!0,this.inLoading=!1):(this.inProgress=!1,this.inLoading=!1,this.message=t.data.message,this.snackbarError=!0)}).catch(t=>{console.log(t),this.message=y.t("connectionLost"),this.snackbarError=!0,this.inProgress=!1,this.inLoading=!1})}}},Yt=zt,Jt=Object(c["a"])(Yt,Qt,Gt,!1,null,"04859f24",null),Zt=Jt.exports;d()(Jt,{VBtn:L["a"],VCard:E["a"],VCardText:S["b"],VCol:T["a"],VContainer:D["a"],VForm:dt["a"],VProgressLinear:pt["a"],VRow:H["a"],VSnackbar:mt["a"],VTextField:Y["a"]});var Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fill-height"},[a("v-progress-linear",{attrs:{active:t.inLoading,indeterminate:t.inLoading,absolute:"",color:"deep-purple accent-4"}}),a("v-snackbar",{attrs:{color:"error",top:"",timeout:15e3},model:{value:t.snackbarError,callback:function(e){t.snackbarError=e},expression:"snackbarError"}},[a("span",[t._v(t._s(t.message))]),a("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbarError=!1}}},[t._v(t._s(t.$t("close")))])],1),a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-card-text",[a("v-form",[a("v-text-field",{ref:"password",attrs:{label:t.$t("password"),name:"password",type:"password",outlined:"","error-messages":t.passwordErrors,required:"",counter:"","append-icon":"visibility_off"},on:{input:function(e){return t.$v.password.$touch()},blur:function(e){return t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{ref:"confirmPassword",attrs:{label:t.$t("confirmPassword"),name:"confirmPassword",type:"password",outlined:"","error-messages":t.confirmPasswordErrors,required:"","append-icon":"visibility_off"},on:{input:function(e){return t.$v.confirmPassword.$touch()},blur:function(e){return t.$v.confirmPassword.$touch()}},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),a("v-btn",{staticClass:"v-btn--block",staticStyle:{"min-height":"50px"},attrs:{color:"success",disabled:t.inProgress,inLoading:t.inLoading},on:{click:function(e){return t.updatePassword()}}},[t._v("\n                                "+t._s(t.$t("updatePassword"))+"\n                            ")])],1)],1)],1)],1)],1)],1)],1)},Wt=[];const Xt=rt["helpers"].regex("password",/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/);var te={name:"PasswordUpdate",data(){return{password:"",confirmPassword:"",message:"",snackbarError:!1,inProgress:!1,inLoading:!1,code:""}},validations:{password:{required:rt["required"],passwordRegex:Xt},confirmPassword:{required:rt["required"],sameAsPassword:Object(rt["sameAs"])("password")}},computed:{passwordErrors(){const t=[];return this.$v.password.$dirty?(!this.$v.password.required&&t.push(y.t("passwordRequired")),!this.$v.password.passwordRegex&&t.push(y.t("passwordFormat")),t):t},confirmPasswordErrors(){const t=[];return this.$v.confirmPassword.$dirty?(!this.$v.confirmPassword.required&&t.push(y.t("passwordRequired")),!this.$v.confirmPassword.sameAsPassword&&t.push(y.t("passwordMatch")),t):t}},methods:{updatePassword(){this.inProgress=!0,this.inLoading=!0,this.code=this.$route.params.code,this.$v.$invalid?(this.inProgress=!1,this.inLoading=!1):C.updatePassword(this.code,this.confirmPassword).then(t=>{t.data.success?(this.$root.$data.message=t.data.message,this.$router.push("/login").catch(t=>{console.log(t)})):(this.inProgress=!1,this.inLoading=!1,this.message=t.data.message,this.snackbarError=!0)}).catch(t=>{console.log(t),this.message=y.t("connectionLost"),this.snackbarError=!0,this.inProgress=!1,this.inLoading=!1})}}},ee=te,ae=Object(c["a"])(ee,Kt,Wt,!1,null,"423dee11",null),se=ae.exports;d()(ae,{VBtn:L["a"],VCard:E["a"],VCardText:S["b"],VCol:T["a"],VContainer:D["a"],VForm:dt["a"],VProgressLinear:pt["a"],VRow:H["a"],VSnackbar:mt["a"],VTextField:Y["a"]});var re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},oe=[],ne={name:"RegistrationConfirm",data(){return{code:""}},created(){this.code=this.$route.params.code,C.registrationConfirm(this.code).then(t=>{t.data.success?(this.$root.$data.message=t.data.message,this.$router.push("/login").catch(t=>{console.log(t)})):(this.$root.$data.message=t.data.message,this.$router.push("/registration").catch(t=>{console.log(t)}))}).catch(()=>{this.$root.$data.message=y.t("connectionLost"),this.$router.push("/registration").catch(t=>{console.log(t)})})}},ie=ne,ce=Object(c["a"])(ie,re,oe,!1,null,"006b6d36",null),le=ce.exports;s["default"].use(h["a"]),s["default"].use(wt.a);const de=new h["a"]({mode:"history",routes:[{path:"/",component:et},{path:"/registration",component:ht},{path:"/login",component:Pt,meta:{loginPage:!0}},{path:"/forgot-password",component:Zt},{path:"/password-update/:code",component:se},{path:"/protected",component:Ut,meta:{requiresAuth:!0}},{path:"/registration-confirm/:code",component:le},{path:"*",redirect:"/"}]});de.beforeEach((t,e,a)=>{const r=kt.a.getInstance(),o=t.matched.some(t=>t.meta.requiresAuth),n=t.matched.some(t=>t.meta.loginPage),i=r.exists(),c=s["default"].cookie.get("token");let l=!1;!n&&!o||i||null==c?o&&!i?a("/login"):n&&i?de.push("/protected").catch(t=>{console.log(t)}):a():C.checkTokenExist(c).then(t=>{l=t.data,l?(r.start(),r.set("token",c),de.push("/protected").catch(t=>{console.log(t)})):a()}).catch(t=>{console.log(t),a()})});var ue=de,pe=a("2f62");s["default"].use(pe["a"]);var me=new pe["a"].Store({state:{},mutations:{},actions:{},getters:{}}),ve=a("ce5b"),he=a.n(ve),ge=(a("bf40"),a("d48d"),a("f309"));s["default"].use(ge["a"]);var fe=new ge["a"]({icons:{iconfont:"mdi"}}),be=a("d61f"),we=a("1dce"),xe=a.n(we),ke=a("cb43");s["default"].config.productionTip=!1,s["default"].use(he.a),s["default"].use(wt.a),s["default"].use(xe.a),s["default"].use(kt.a.install),s["default"].use(be["a"]),s["default"].use(ke["default"]);const _e={};new s["default"]({data:_e});new s["default"]({VueCookie:wt.a,router:ue,store:me,vuetify:fe,VueEasySession:kt.a,i18n:y,render:t=>t(v)}).$mount("#app")},b88f:function(t,e,a){"use strict";var s=a("4923"),r=a.n(s);r.a}});
//# sourceMappingURL=app.4c4394ee.js.map